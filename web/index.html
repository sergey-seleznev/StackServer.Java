<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>StackServer</title>
</head>
<body>

    <span id="stackId"></span>

    <div id="push">
        <input title="push" id="pushValue" type="number" style="width: 3em">
        <button id="pushButton">push</button>
        <span id="pushResult"></span>
    </div>

    <div id="pop">
        <button id="popButton">pop</button>
        <span id="popResult"></span>
    </div>

    <div id="list">
        <button id="listButton">list</button>
        <span id="listResult"></span>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript">

        function createGuid() {
            function s4() {
                return Math.floor((1 + Math.random()) * 0x10000)
                    .toString(16)
                    .substring(1);
            }
            return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
                s4() + '-' + s4() + s4() + s4();
        }

        var id = createGuid();
        $('#stackId').text(id);

        var baseUri = window.location.pathname + 'api/stack/' + id + '/';

        $('#pushButton').on('click', function() {
            var value = $('#pushValue').val();
            if (value !== '') {
                $.ajax(baseUri + 'push/' + value)
                 .done(function() {
                    $('#pushResult').text('pushed ' + value + ' to the stack');
                });
            } else {
                $('#pushResult').text('invalid value');
            }
        });

        $('#popButton').on('click', function() {
            $.ajax(baseUri + 'pop')
             .done(function(value, textStatus, xhr) {
                $('#popResult').text(xhr.status === 200 ?
                    'popped ' + value + ' from the stack' :
                    'nothing popped from the stack');
            });
        });

        $('#listButton').on('click', function() {
            $.ajax(baseUri + 'list')
             .done(function(array) {
                $('#listResult').text('stack content: [' + array.join(', ') + ']');
            });
        });

    </script>

</body>
</html>